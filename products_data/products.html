<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            margin: 0;
        }
        #section{
            display: flex;
            margin: 40px 0 0 0;
            font-family: "Segoe UI", "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";

            
        }
        #filter{
            width: 26%;
            border: 1px solid red;
        }
        #products{
            width: 74%;
            display: grid;
            grid-template-columns: repeat(3,1fr);
            /* gap: 10px; */
            /* border: 1px solid blue; */
        }
        .card{
            /* border: 1px solid green; */
            font-size: 14px;
            font-weight: 300;
            line-height: 24px;
            text-decoration: none solid rgb(63, 63, 63);
            word-spacing: 0;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding-bottom: 10px;
            width: 100%;
            /* height: 474px; */
        }
        .img-div{
            width: 229px;
            margin: auto;
            height: 229px;
        }
        .img-div>img{
            width: 100%;
            height: 100%;
        }
        .status{
            font-size: 12px;
            letter-spacing: 0.5px;
            line-height: 18px;
            text-decoration: none solid rgb(124, 127, 136);
            text-align: left;
            word-spacing: 0;
            color: #7C7F88;
            height: 18px;
            margin: 0 12px 4px 12px;
            /* min-height: 18px; */
            min-width: auto;
            font-weight: 500;
        }
        .title,.info,.price{
            /* font-family: ProximaNovaMedium, Arial,sans-serif; */
            font-size: 16px;
            letter-spacing: 0.5px;
            line-height: 24px;
            text-decoration: none solid rgb(34, 34, 34);
            text-align: left;
            word-spacing: 0;
            color: #222222;
            /* height: 24px; */
            width: 310px;
            margin: 0 12px 8px 12px;
            /* min-height: auto; */
            min-width: auto;
            font-weight: 500;
        }
        .info{
            font-size: 14px;
            line-height: 20.02px;
            /* height: 40px; */
            margin: 0 12px 0 12px;
            padding: 0 0 8px 0;
            font-weight: 400;
        }
        .price{
            font-weight: 500;
            text-decoration: none solid rgb(63, 63, 63);
            color: #3f3f3f;
        }
        /* .rating-wrapper{
            font-size: 16px;
            font-weight: 300;
            line-height: 300;
            text-decoration: none solid rgb(63, 63, 63);
            height: 51px;
            width: 310px;
            margin: 0 12px 0 12px;
            min-width: auto;
            min-width: auto;
        } */
        #addtobag{
            font-size: 16px;
            font-weight: 500;
            letter-spacing: 1px;
            line-height: 24px;
            text-decoration: none solid rgb(34, 34, 34);
            text-align: center;
            text-transform: uppercase;
            /* vertical-align: middle; */
            display: block;
            margin: auto;
            white-space: nowrap;
            word-spacing: 0;
            color: #222222;
            height: 40px;
            width: 310px;
            border: 1px solid #222222;
            border-radius: 7px;
            background-color: #ffffff;
            padding: 0 16px 0 16px;
            max-height: 40px; 
            box-shadow: 0px 3px 2px rgba(63, 63, 63, 0.3);
        }
        #addtobag:hover,#result>button:hover{
            box-shadow: inset -3px -3px 2px rgba(63, 63, 63, 0.3);
            cursor: pointer;
        }
        #result{
            width: 100%;
            /* height: 86px; */
            margin: 40px 0 30px 0;
        }
        #result>button{
            padding: 8px 16px;
            background: white;
            border: 1px solid #222222;
            box-shadow: 0px 3px 2px rgba(63, 63, 63, 0.3);
            display: block;
            margin: 10px auto 0 auto;
            border-radius: 5px;
            font-size: 12px;
        }
        #result>div{
            width: 100%;
            font-weight: 500;
            font-size: 13px;
            text-align: center;
            /* margin-top: 45px; */
        }
        /* filter css */
        #filter{
            padding: 0 40px;
        }
        #filter h3{
            font-size: 16px;
            font-weight: 500;
            letter-spacing: 0.5px;
            color: #222222;
            cursor: pointer;
            text-decoration: none solid rgb(33, 33, 33);
        }
        #click_desc_div{
            border-bottom: 1px solid rgb(63, 63, 53);
        }
        .display_filter{
            border-bottom: 1px solid rgb(63, 63, 53);
        }
        .heading{
            display: flex;
            justify-content: space-between;
            align-items: center;

        }
        #filter h4{
            font-size: 12px;
            font-weight: bold;
            letter-spacing: 1px;
            color: #222222;
            cursor: pointer;
            text-decoration: none solid rgb(33, 33, 33);
            text-transform: uppercase;
        }
        input[type="checkbox"]{
            display: none;
        }
        <!-- .drop_icon_div{
            height: 25px;
            width: 25px;
        }
        .drop_icon_div>img{
            width: 100%;
            height: 100%;
        } -->

    </style>
</head>
<body>
    <div id="container">
        <div id="nav">

        </div>
        <div id="section">
            <div id="filter">

            </div>
            <div id="products-sep">
                <div id="products">

                </div>
                <div id="result">

                </div>
            </div>

        </div>
        <!-- <img src="svg_image/expand_more.svg.svg"> -->
    </div>
</body>
</html>
<script>
    const fetchingdata= async (min=0,max=24) =>{
        if(max>84){
            max = max-84+min;
        }
        if(min!==84){
            let res = await fetch(`http://localhost:3786/products?_start=${min}&_end=${max}`);
            let obj = await res.json();
            display_products(obj,min,max);
        }
    }    
    const display_products = (data,min,max) => {
        console.log(data);
        data.forEach((element,index) => {
            let card = document.createElement("div");
            card.setAttribute("class","card");

            let upper = document.createElement("div");
            upper.setAttribute("class","upper");
                let img_div =  document.createElement("div");
                img_div.setAttribute("class","img-div");
                    let image = document.createElement("img");
                    image.setAttribute("src",element.image);
                    image.setAttribute("alt",index);
                img_div.append(image);

                let sts = document.createElement("div");
                sts.setAttribute("class","status");
                sts.innerText = element.status;

                let ttl = document.createElement("div");
                ttl.setAttribute("class","title");
                ttl.innerText = element.title;

                let ifo = document.createElement("div");
                ifo.setAttribute("class","info");
                ifo.innerText = element.info;

                let prc = document.createElement("div");
                prc.setAttribute("class","price");
                prc.innerText = "$"+element.price;

                let rating_wrapper = document.createElement("div");
                rating_wrapper.setAttribute("class","rating-wrapper");

                    let rtgstar = document.createElement("span");
                    rtgstar.setAttribute("class","rating-star");
                    rtgstar.innerText = "*****";

                    let rtg = document.createElement("span");
                    rtg.setAttribute("class","rating");
                    rtg.innerText = element.rating+"20";

                    let vt = document.createElement("span");
                    vt.setAttribute("class","votes");
                    vt.innerText = element.rating_votes+"140";
                rating_wrapper.append(rtgstar,rtg,vt);
            upper.append(img_div,sts,ttl,ifo,prc,rating_wrapper);

            let lower = document.createElement("div");
            lower.setAttribute("class","lower");
                let addtobagbtn = document.createElement("button");
                addtobagbtn.setAttribute("id","addtobag");
                addtobagbtn.innerText = "ADD To BAG"
            lower.append(addtobagbtn);
            card.append(upper,lower);
            document.getElementById("products").append(card);

        });
        if(max!==84){

            document.getElementById("result").innerHTML = "";

            let resultdata = document.createElement("div");
            resultdata.innerText = "Showing " + max + " of 84";
            let btn = document.createElement("button");
            btn.innerText = "SEE MORE";
            btn.addEventListener("click",function(){
                fetchingdata(max,max+24);
            })
            document.getElementById("result").append(resultdata,btn);
        }
        else{
            document.getElementById("result").innerHTML = null;
        }
        
        
    }
    fetchingdata();
    // filter code start
    let upper = document.createElement("div");
    upper.setAttribute("id","upper");

        let click_data_sep = document.createElement("div");
        click_data_sep.setAttribute("id","click_data_sep");

            let heading_icon_sep = document.createElement("div");
            heading_icon_sep.setAttribute("id","click_data_sep");
                let h3 = document.createElement("h3");
                h3.setAttribute("id","filter_para");
                h3.innerText = "FILTER BY";

                let icon_box = document.createElement("div");
                icon_box.setAttribute("id","icon_box");
                //     let icon_img = document.createElement("img");
                //     img.setAttribute("src","abc");
                //     img.setAttribute("alt","icon");
                // icon_box.append(icon_img);
            heading_icon_sep.append(h3,icon_box);

            let click_desc_div = document.createElement("div");
            click_desc_div.setAttribute("id","click_desc_div");

        click_data_sep.append(heading_icon_sep,click_desc_div);
    upper.append(click_data_sep);

    document.getElementById("filter").append(upper);
    //lower portion of filter
    
    let lower = document.createElement("div");
    lower.setAttribute("id","lower");
    //first
        let first_filter = document.createElement("div");
            let heading1 = document.createElement("div");
            heading1.setAttribute("class","heading");
                let h4_1 = document.createElement("h4");
                h4_1.innerText = "Category";
                let drop_icon_div1 = document.createElement("div");
                drop_icon_div1.setAttribute("class","drop_icon_div");
                // drop_icon_div1.style.display = "flex";
                    // let drop_icon1 = document.createElement("img");
                    // drop_icon1.setAttribute("src","svg_image/expand_more.svg.svg");
                    // drop_icon1.setAttribute("alt","icon");
                    var drop_icon1 = document.createElement("input");
                    drop_icon1.setAttribute("type","checkbox");
                    drop_icon1.setAttribute("id","check");
                    var lab1 = document.createElement("label");
                    lab1.setAttribute("for","check");
                    lab1.innerHTML = "<img src='svg_image/expand_more.svg.svg' width='25px' height='25px'>";
                    drop_icon1.addEventListener("change",function(){
                        change_bg();
                    })
                    function change_bg(){
                        if(drop_icon1.checked){
                            lab1.innerHTML = "<img src='svg_image/expand_less.svg.svg' width='25px' height='25px'>";
                        }
                        else{
                            lab1.innerHTML ="<img src='svg_image/expand_more.svg.svg' width='25px' height='25px'>";
                        }
                    }
                drop_icon_div1.append(drop_icon1,lab1);
                drop_icon_div1.addEventListener("click",function(){
                    dispaly_heading1_filter();
                });
            heading1.append(h4_1,drop_icon_div1);
            let display_filter1 = document.createElement("div");
            display_filter1.setAttribute("class","display_filter");
        first_filter.append(heading1,display_filter1);
    //second;
    let second_filter = document.createElement("div");
            let heading2 = document.createElement("div");
            heading2.setAttribute("class","heading");
                let h4_2 = document.createElement("h4");
                h4_2.innerText = "SKIN CONCERN";
                let drop_icon_div2 = document.createElement("div");
                drop_icon_div2.setAttribute("class","drop_icon_div");
                    // let drop_icon2 = document.createElement("img");
                    // drop_icon2.setAttribute("src","svg_image/expand_more.svg.svg");
                    // drop_icon2.setAttribute("alt","icon");
                     var drop_icon2 = document.createElement("input");
                    drop_icon2.setAttribute("type","checkbox");
                    drop_icon2.setAttribute("id","check2");
                    var lab2 = document.createElement("label");
                    lab2.setAttribute("for","check2");
                    lab2.innerHTML = "<img src='svg_image/expand_more.svg.svg' width='25px' height='25px'>";
                    drop_icon2.addEventListener("change",function(){
                        change_bg2();
                    })
                    function change_bg2(){
                        if(drop_icon2.checked){
                            lab2.innerHTML = "<img src='svg_image/expand_less.svg.svg' width='25px' height='25px'>";
                        }
                        else{
                            lab2.innerHTML ="<img src='svg_image/expand_more.svg.svg' width='25px' height='25px'>";
                        }
                    }
                drop_icon_div2.append(drop_icon2,lab2);
                drop_icon_div2.addEventListener("click",function(){
                    dispaly_heading2_filter();
                });
            heading2.append(h4_2,drop_icon_div2);
            let display_filter2 = document.createElement("div");
            display_filter2.setAttribute("class","display_filter");
        second_filter.append(heading2,display_filter2);
    //third
    let third_filter = document.createElement("div");
            let heading3 = document.createElement("div");
            heading3.setAttribute("class","heading");
                let h4_3 = document.createElement("h4");
                h4_3.innerText = "APPLICATION AREA";
                let drop_icon_div3 = document.createElement("div");
                drop_icon_div3.setAttribute("class","drop_icon_div");
                    // let drop_icon3 = document.createElement("img");
                    // drop_icon3.setAttribute("src","svg_image/expand_more.svg.svg");
                    // drop_icon3.setAttribute("alt","icon");
                    var drop_icon3 = document.createElement("input");
                    drop_icon3.setAttribute("type","checkbox");
                    drop_icon3.setAttribute("id","check3");
                    var lab3 = document.createElement("label");
                    lab3.setAttribute("for","check3");
                    lab3.innerHTML = "<img src='svg_image/expand_more.svg.svg' width='25px' height='25px'>";
                    drop_icon3.addEventListener("change",function(){
                        change_bg3();
                    })
                    function change_bg3(){
                        if(drop_icon3.checked){
                            lab3.innerHTML = "<img src='svg_image/expand_less.svg.svg' width='25px' height='25px'>";
                        }
                        else{
                            lab3.innerHTML ="<img src='svg_image/expand_more.svg.svg' width='25px' height='25px'>";
                        }
                    }
                drop_icon_div3.append(drop_icon3,lab3);
                drop_icon_div3.addEventListener("click",function(){
                    dispaly_heading3_filter();
                });
            heading3.append(h4_3,drop_icon_div3);
            let display_filter3 = document.createElement("div");
            display_filter3.setAttribute("class","display_filter");
        third_filter.append(heading3,display_filter3);
    //fourth
    let fourth_filter = document.createElement("div");
            let heading4 = document.createElement("div");
            heading4.setAttribute("class","heading");
                let h4_4 = document.createElement("h4");
                h4_4.innerText = "PRODUCT LINE";
                let drop_icon_div4 = document.createElement("div");
                drop_icon_div4.setAttribute("class","drop_icon_div");
                    // let drop_icon4 = document.createElement("img");
                    // drop_icon4.setAttribute("src","svg_image/expand_more.svg.svg");
                    // drop_icon4.setAttribute("alt","icon");
                    var drop_icon4 = document.createElement("input");
                    drop_icon4.setAttribute("type","checkbox");
                    drop_icon4.setAttribute("id","check4");
                    var lab4 = document.createElement("label");
                    lab4.setAttribute("for","check4");
                    lab4.innerHTML = "<img src='svg_image/expand_more.svg.svg' width='25px' height='25px'>";
                    drop_icon4.addEventListener("change",function(){
                        change_bg4();
                    })
                    function change_bg4(){
                        if(drop_icon4.checked){
                            lab4.innerHTML = "<img src='svg_image/expand_less.svg.svg' width='25px' height='25px'>";
                        }
                        else{
                            lab4.innerHTML ="<img src='svg_image/expand_more.svg.svg' width='25px' height='25px'>";
                        }
                    }
                drop_icon_div4.append(drop_icon4,lab4);
                drop_icon_div4.addEventListener("click",function(){
                    dispaly_heading4_filter();
                });
            heading4.append(h4_4,drop_icon_div4);
            let display_filter4 = document.createElement("div");
            display_filter4.setAttribute("class","display_filter");
        fourth_filter.append(heading4,display_filter4);
    lower.append(first_filter,second_filter,third_filter,fourth_filter);
    document.getElementById("filter").append(lower);
   
    //display first filter list function
    // function display dispaly_heading1_filter(){

    // }

               

        

</script>